{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/contact.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../spinner/spinner.component\";\nfunction ContactManagerComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-spinner\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactManagerComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 12)(2, \"div\", 1)(3, \"div\", 2)(4, \"p\", 13);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.errorMessage);\n  }\n}\nfunction ContactManagerComponent_div_21_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 16)(2, \"div\", 17)(3, \"div\", 1)(4, \"div\", 18);\n    i0.ɵɵelement(5, \"img\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 20)(7, \"ul\", 21)(8, \"li\", 22);\n    i0.ɵɵtext(9, \"Name\");\n    i0.ɵɵelementStart(10, \"span\", 23);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"li\", 22);\n    i0.ɵɵtext(13, \"Email\");\n    i0.ɵɵelementStart(14, \"span\", 23);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"li\", 22);\n    i0.ɵɵtext(17, \"Moblie No.\");\n    i0.ɵɵelementStart(18, \"span\", 23);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(20, \"div\", 24)(21, \"a\", 25);\n    i0.ɵɵelement(22, \"i\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"a\", 27);\n    i0.ɵɵelement(24, \"i\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function ContactManagerComponent_div_21_div_2_Template_button_click_25_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const contact_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.clickDeleteContact(contact_r4.id));\n    });\n    i0.ɵɵelement(26, \"i\", 30);\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const contact_r4 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"src\", contact_r4.photo, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", contact_r4.name, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", contact_r4.email, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", contact_r4.mobile, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/contact/view/\", contact_r4.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/contact/edit/\", contact_r4.id, \"\");\n  }\n}\nfunction ContactManagerComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 14);\n    i0.ɵɵtemplate(2, ContactManagerComponent_div_21_div_2_Template, 27, 6, \"div\", 15);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.contacts);\n  }\n}\nexport let ContactManagerComponent = /*#__PURE__*/(() => {\n  class ContactManagerComponent {\n    constructor(contactservice) {\n      this.contactservice = contactservice;\n      this.loading = false;\n      this.contacts = [];\n      this.errorMessage = null;\n      this.searchQuery = '';\n    }\n    // ngOnInit(): void {\n    //   this.loading=true;\n    //   this.contactservice.getAllContacts().subscribe((data:Icontact[])=>{\n    //     this.contacts=data;\n    //     this.loading=false;\n    //   }, (error:string) => { \n    //     this.errorMessage = error;\n    //     this.loading = false;\n    //   });\n    //}\n    ngOnInit() {\n      this.getAllContactsFromServer();\n    }\n    getAllContactsFromServer() {\n      this.loading = true;\n      this.contactservice.getAllContacts().subscribe(data => {\n        this.contacts = data;\n        this.loading = false;\n      }, error => {\n        this.errorMessage = error;\n        this.loading = false;\n      });\n    }\n    clickDeleteContact(contactId) {\n      if (contactId) {\n        this.contactservice.deleteContact(contactId).subscribe(data => {\n          this.getAllContactsFromServer();\n        }, error => {\n          this.errorMessage = error;\n          this.loading = false;\n        });\n      }\n    }\n    searchContacts() {\n      if (this.searchQuery) {\n        this.loading = true;\n        this.contactservice.searchContacts(this.searchQuery).subscribe(data => {\n          this.contacts = data;\n          this.loading = false;\n        }, error => {\n          this.errorMessage = error;\n          this.loading = false;\n        });\n      } else {\n        console.log(\"No contacts to search.\");\n      }\n    }\n  }\n  ContactManagerComponent.ɵfac = function ContactManagerComponent_Factory(t) {\n    return new (t || ContactManagerComponent)(i0.ɵɵdirectiveInject(i1.ContactService));\n  };\n  ContactManagerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ContactManagerComponent,\n    selectors: [[\"app-contact-manager\"]],\n    decls: 22,\n    vars: 4,\n    consts: [[1, \"container\", \"mt-3\"], [1, \"row\"], [1, \"col\"], [1, \"h3\", \"text-danger\", \"fw-bold\"], [\"routerLink\", \"/contact/add\", 1, \"btn\", \"btn-danger\"], [1, \"fa\", \"fa-plus-circle\"], [1, \"fst-italic\"], [1, \"col-md-6\"], [\"placeholder\", \"Search User\", \"name\", \"name\", \"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-outline-dark\", 3, \"click\"], [4, \"ngIf\"], [\"class\", \"container mt-3\", 4, \"ngIf\"], [1, \"conatiner\"], [1, \"h4\", \"text-danger\", \"fw-bold\"], [1, \"row\", \"align-item-center\"], [\"class\", \"col-md-6\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\", \"list-group-item-danger\", \"shadow-lg\", \"my-2\"], [1, \"card-body\"], [1, \"col-sm-4\"], [1, \"contact-img\", 3, \"src\"], [1, \"col-sm-7\"], [1, \"list-group\"], [1, \"list-group-item\"], [1, \"fw-bold\"], [1, \"col-sm-1\", \"justify-content-center\", \"align-item-center\", \"icon\"], [1, \"btn\", \"btn-warning\", \"btn-sm\", \"my-1\", \"pr-1\", 3, \"routerLink\"], [1, \"fa\", \"fa-eye\"], [1, \"btn\", \"btn-primary\", \"btn-sm\", \"my-2\", 3, \"routerLink\"], [1, \"fa\", \"fa-pen\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", \"my-1\", 3, \"click\"], [1, \"fa\", \"fa-trash-alt\"]],\n    template: function ContactManagerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"p\", 3);\n        i0.ɵɵtext(4, \"NG Contacts \");\n        i0.ɵɵelementStart(5, \"a\", 4);\n        i0.ɵɵelement(6, \"i\", 5);\n        i0.ɵɵtext(7, \"New\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"p\", 6);\n        i0.ɵɵtext(9, \"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Facere temporibus quos natus cupiditate vitae, repellendus tempora adipisci pariatur ullam nemo, similique in exercitationem quasi neque molestias suscipit quod laudantium ab? \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"form\")(11, \"div\", 1)(12, \"div\", 7)(13, \"div\", 1)(14, \"div\", 2)(15, \"input\", 8);\n        i0.ɵɵlistener(\"ngModelChange\", function ContactManagerComponent_Template_input_ngModelChange_15_listener($event) {\n          return ctx.searchQuery = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"div\", 2)(17, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function ContactManagerComponent_Template_button_click_17_listener() {\n          return ctx.searchContacts();\n        });\n        i0.ɵɵtext(18, \"Search\");\n        i0.ɵɵelementEnd()()()()()()()()();\n        i0.ɵɵtemplate(19, ContactManagerComponent_div_19_Template, 2, 0, \"div\", 10);\n        i0.ɵɵtemplate(20, ContactManagerComponent_div_20_Template, 6, 1, \"div\", 10);\n        i0.ɵɵtemplate(21, ContactManagerComponent_div_21_Template, 3, 1, \"div\", 11);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchQuery);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.errorMessage);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.contacts.length > 0);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm, i5.SpinnerComponent],\n    styles: [\".icon[_ngcontent-%COMP%]{align-items:center;justify-content:center}\"]\n  });\n  return ContactManagerComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}